(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{639:function(t,v,_){"use strict";_.r(v);var a=_(28),d=Object(a.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"ltag-表"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ltag-表"}},[t._v("#")]),t._v(" “ltag”表")]),t._v(" "),v("h2",{attrs:{id:"介绍"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),v("p",[t._v("“ltag”(language tags)表提供数字代码和 IETF 语言标记之间的映射。 数字代码用于 Unicode 平台字符串的“名称”表的语言字段。 这些代码还与“feat”和“morx”表结合使用，以提供特定于语言的整形。")]),t._v(" "),v("p",[t._v("使用 IETF 语言标签的原因有很多。 首先，它们是标准且通用的。 特别是，它们由 OS X 和 iOS 上的区域设置使用。 其次，它们是可扩展的，不需要预先确定支持的语言的枚举。")]),t._v(" "),v("p",[t._v("该表使用两种结构。")]),t._v(" "),v("p",[v("strong",[t._v("'ltag' FTStringRange")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("类型")]),t._v(" "),v("th",[t._v("名称")]),t._v(" "),v("th",[t._v("描述")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("UInt16")]),t._v(" "),v("td",[t._v("offset")]),t._v(" "),v("td",[t._v("从表的开头到字符串的开头的偏移量")])]),t._v(" "),v("tr",[v("td",[t._v("UInt16")]),t._v(" "),v("td",[t._v("length")]),t._v(" "),v("td",[t._v("字符串长度（以字节为单位）")])])])]),t._v(" "),v("p",[v("strong",[t._v("'ltag' 头部")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("类型")]),t._v(" "),v("th",[t._v("名称")]),t._v(" "),v("th",[t._v("描述")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("UInt32")]),t._v(" "),v("td",[t._v("version")]),t._v(" "),v("td",[t._v("表版本； 目前 1")])]),t._v(" "),v("tr",[v("td",[t._v("UInt32")]),t._v(" "),v("td",[t._v("flags")]),t._v(" "),v("td",[t._v("表标志； 目前没有定义")])]),t._v(" "),v("tr",[v("td",[t._v("UInt32")]),t._v(" "),v("td",[t._v("numTags")]),t._v(" "),v("td",[t._v("后面的语言标签数量")])]),t._v(" "),v("tr",[v("td",[t._v("FTStringRange[]")]),t._v(" "),v("td",[t._v("tagRange")]),t._v(" "),v("td",[t._v("每个标签字符串的范围")])])])]),t._v(" "),v("p",[t._v("每个标签有一个范围。 偏移量是从表的开头开始的。")]),t._v(" "),v("p",[t._v("flags 字段当前未使用，应为 0。当前版本为 1。")]),t._v(" "),v("p",[t._v("IETF 语言标签采用 ASCII 格式，因此可以解释为 UTF-8 或任何其他与 ASCII 兼容的文本编码。")]),t._v(" "),v("p",[t._v("如果我们有一种同时具有英语和西班牙语名称的字体，我们可以构建以下“ltag”表：")]),t._v(" "),v("p",[t._v("“ltag”样例表")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("类型")]),t._v(" "),v("th",[t._v("值")]),t._v(" "),v("th",[t._v("描述")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("UInt32")]),t._v(" "),v("td",[t._v("1")]),t._v(" "),v("td",[t._v("版本")])]),t._v(" "),v("tr",[v("td",[t._v("UInt32")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("标志")])]),t._v(" "),v("tr",[v("td",[t._v("UInt32")]),t._v(" "),v("td",[t._v("2")]),t._v(" "),v("td",[t._v("标签数量")])]),t._v(" "),v("tr",[v("td",[t._v("FTStringRange")]),t._v(" "),v("td",[t._v("0,2")]),t._v(" "),v("td",[t._v("第一个标签")])]),t._v(" "),v("tr",[v("td",[t._v("FTStringRange")]),t._v(" "),v("td",[t._v("2,2")]),t._v(" "),v("td",[t._v("第二个标签")])]),t._v(" "),v("tr",[v("td",[t._v("char[]")]),t._v(" "),v("td",[t._v('"ensp"')]),t._v(" "),v("td",[t._v("标签字符串")])])])]),t._v(" "),v("p",[t._v("这会将英语映射到语言代码 0，将西班牙语映射到语言代码 1。然后我们可以在具有 Unicode 平台名称的名称表中使用它：")]),t._v(" "),v("p",[t._v("如何使用“ltag”")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("语言代码")]),t._v(" "),v("th",[t._v("值")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("-1 (不要在意)")]),t._v(" "),v("td",[t._v("Geneva")])]),t._v(" "),v("tr",[v("td",[t._v("0")]),t._v(" "),v("td",[t._v("Geneva")])]),t._v(" "),v("tr",[v("td",[t._v("1")]),t._v(" "),v("td",[t._v("Ginebra")])])])]),t._v(" "),v("p",[t._v("语言标签也被“feat”和“morx”表使用，使用新的始终独占的功能 39（语言代码）。")]),t._v(" "),v("p",[t._v("一个标准的例子是西里尔斜体字母在塞尔维亚以一种方式书写，而在其他地方以另一种方式书写。 我们可以添加到“ltag”表中：")]),t._v(" "),v("p",[t._v("“ltag”样例表")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("类型")]),t._v(" "),v("th",[t._v("值")]),t._v(" "),v("th",[t._v("描述")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("UInt32")]),t._v(" "),v("td",[t._v("1")]),t._v(" "),v("td",[t._v("版本")])]),t._v(" "),v("tr",[v("td",[t._v("UInt32")]),t._v(" "),v("td",[t._v("0")]),t._v(" "),v("td",[t._v("标志")])]),t._v(" "),v("tr",[v("td",[t._v("UInt32")]),t._v(" "),v("td",[t._v("3")]),t._v(" "),v("td",[t._v("标签数量")])]),t._v(" "),v("tr",[v("td",[t._v("FTStringRange")]),t._v(" "),v("td",[t._v("0,2")]),t._v(" "),v("td",[t._v("第一个标签")])]),t._v(" "),v("tr",[v("td",[t._v("FTStringRange")]),t._v(" "),v("td",[t._v("2,2")]),t._v(" "),v("td",[t._v("第二个标签")])]),t._v(" "),v("tr",[v("td",[t._v("FTStringRange")]),t._v(" "),v("td",[t._v("4,2")]),t._v(" "),v("td",[t._v("第三个标签")])]),t._v(" "),v("tr",[v("td",[t._v("char[]")]),t._v(" "),v("td",[t._v('"ensp"')]),t._v(" "),v("td",[t._v("标签字符串")])])])]),t._v(" "),v("p",[t._v("然后，我们可以定义一个具有特征类型 39 和选择器类型 3 的字体特征。（我们在此处向“ltag”索引添加 1，因为选择器类型 0 意味着独占特征“无变化”。）然后我们可以定义“ morx' 子表将标准西里尔字形映射到塞尔维亚语特定字形。")]),t._v(" "),v("p",[t._v("请注意，使用“ltag”意味着语言标记 ID 是特定字体的内部标记。 这类似于 glyphID 特定于字体的方式。 任何需要知道特定字体上下文之外的字形标识的内容都需要通过“post”表将其字形 ID 转换为 PostScript 名称。 类似地，任何需要了解特定字体上下文之外的语言标记身份的内容都需要通过“ltag”表将标记 ID 转换为 IETF 标记。")]),t._v(" "),v("h2",{attrs:{id:"用户界面问题"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#用户界面问题"}},[t._v("#")]),t._v(" 用户界面问题：")]),t._v(" "),v("p",[t._v("IETF 语言自然地与 OS X 和 iOS 用户界面以及 ftxdumperfuser 等工具结合在一起。 人们可以使用这样的语句")]),t._v(" "),v("p",[t._v("[[NSLocale autoupdatingCurrentLocale] displayNameForKey:NSLanguageIdentifier value:tag]")]),t._v(" "),v("p",[t._v("获取在 UI 中使用的正确字符串。 这也与系统其他地方使用的区域设置信息密切相关。")]),t._v(" "),v("h2",{attrs:{id:"平台特定信息"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#平台特定信息"}},[t._v("#")]),t._v(" 平台特定信息")]),t._v(" "),v("p",[t._v("OS X 10.9 (Mavericks) 及更高版本以及 iOS 7.0 及更高版本支持“ltag”表。 当前仅支持“ltag”表与“morx”（扩展变形）和“feat”（字体功能）表结合使用。")]),t._v(" "),v("h2",{attrs:{id:"工具"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#工具"}},[t._v("#")]),t._v(" 工具")]),t._v(" "),v("p",[t._v("ftxdumperfuser 完全支持“ltag”表。 处理 ATIF 时，ftxenhancer 将根据需要生成或扩展“ltag”表。")])])}),[],!1,null,null,null);v.default=d.exports}}]);